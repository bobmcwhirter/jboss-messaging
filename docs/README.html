<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>JBoss Messaging 1.4.0.SP1 Release Notes</title>
</head>
<body>

<h1>Release Notes - JBoss Messaging - Version 1.4.0.SP1</h1>

<br>

<h2>31 August 2007</h2>

These are the release notes for JBoss Messaging 1.4.0 Service Pack 1 (SP1).<br><br>

For full description of the contents please see the JBoss Messaging project JIRA.<br><br>

This release contains several bug fixes; a few relating to some failover edge cases, an important fix in byte message handling, some sanity checking and configuration changes in JBoss Remoting and several smaller issues.<br><br>

In this release we have also switched to using the TCP MPING JGroups stack by default for data traffic. This has shown to perform better for small cluster sizes. For large clusters its likely you'll want to use a UDP based stack.<br><br>

When upgrading an existing installation be sure to update all the configuration files in server/<server name>/deploy/jboss-messaging.sar with the newer versions and replace jboss-messaging.jar in server/<server name>/lib and on the client classpath. You will also need to drop all tables and indexes in the database.<br><br>

This release of JBoss Messaging, like 1.4.0.GA also requires a patched JBoss Remoting jar. The required version is 2.2.2.SP1, the same as that required by JBoss Messaging 1.4.0.GA. Be sure that server/<server name>/lib contains this jar and that it is also present as the first entry on the client classpath.<br><br>

Enjoy!<br><br>


<br><br>
    
<h2>Bug</h2>
<ul>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1079'>JBMESSAGING-1079</a>] - JBM should call BytesMessage.reset() before redelivery, or not redeliver the same message instance</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1091'>JBMESSAGING-1091</a>] - Selector parser should use string literals for DeliveryMode in selector expressions</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1095'>JBMESSAGING-1095</a>] - ServerPeer won't survive a stop/start of the service</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1098'>JBMESSAGING-1098</a>] - Message headers not preserved on bridged message</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1099'>JBMESSAGING-1099</a>] - Potential deadlock in shutting down server</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1100'>JBMESSAGING-1100</a>] - Non durable topic subscribers with noLocal=true  result in message build up on server</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1101'>JBMESSAGING-1101</a>] - Failure to deserialize BytesMessage contents</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1109'>JBMESSAGING-1109</a>] - Client-side race condition while receiving concurrently</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1110'>JBMESSAGING-1110</a>] - Client incorrectly initiates client-side fail over on high concurrency</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1112'>JBMESSAGING-1112</a>] - Consumption with highly concurrent clients lock a JBM server node.</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1113'>JBMESSAGING-1113</a>] - Post office and message updates at failover need to be transactional</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1114'>JBMESSAGING-1114</a>] - JBoss Remoting fails under load</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1115'>JBMESSAGING-1115</a>] - java.net.SocketException: Too many open files</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1116'>JBMESSAGING-1116</a>] - Consuming client grinds to a halt if a node different from the "active" one fails</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1118'>JBMESSAGING-1118</a>] - Sucker connection created back to itself doesn't need to be created</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1120'>JBMESSAGING-1120</a>] - Data channel from MultiplexerChannelFactory prevents state transfers from other users of the shared channel</li>
</ul>
        
<h2>Feature Request</h2>
<ul>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1047'>JBMESSAGING-1047</a>] - ServerPeer.listMessageCountersAsHTML sorted by Name</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1119'>JBMESSAGING-1119</a>] - We should ignore nonPersistentMessages on failover</li>
</ul>
                    
<h2>Task</h2>
<ul>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-999'>JBMESSAGING-999</a>] - Bridge startup should retry if remote destinations are not available</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1096'>JBMESSAGING-1096</a>] - Remove references from the old Callback Manager on the documentation</li>
<li>[<a href='http://jira.jboss.com/jira/browse/JBMESSAGING-1129'>JBMESSAGING-1129</a>] - Change default data stack to TCP</li>
</ul>


</body>
</html>

