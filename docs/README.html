<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>JBoss Messaging Release Notes</title>
</head>
<body>
<h1><br>
JBoss Messaging 1.2.0.CR1 Release Notes</h1>
<br>
February 21 2007<br>
<br>
<br>
JBoss
Messaging is a new JBoss JMS 1.1-compliant JMS provider, aimed to
replace JBossMQ.&nbsp; The curent release is the first 1.2 candidate
release (1.2.0.CR1).<br>
<br>
1.2.0.CR1 includes full
clustering, with load balancing and
transparent failover. However, it is still a candiate release, and even
if all functional, stress and smoke tests pass, use caution if you
consider using it in production.<br>
<br>
An brief overview of the clustering
features and installation instructions are available in the "Clustering
Guide". The guide is bundled with this release and is
provided in <a href="./docs/clustering/html/index.html">HTML</a>, <a
 href="./docs/clustering/html_single/index.html">HTML-single</a>
and <a href="./docs/clustering/pdf/ClusteringGuide.pdf">PDF</a>
formats.&nbsp; The guide is also available on-line at&nbsp; <a
 href="http://labs.jboss.com/portal/jbossmessaging/docs/index.html">http://labs.jboss.com/portal/jbossmessaging/docs/index.html</a><br>
<br>
<span style="font-weight: bold;">Warning<br>
</span>
<div style="margin-left: 40px;">The current JBoss Messaging
distribution is a <span style="font-style: italic;">candidate</span><span
 style="font-style: italic;"> </span><span style="font-style: italic;">release.
</span>Use caution if consider deploying it in a production environment.<br>
<br>
</div>
<h2>Summary of Changes<br>
</h2>
This is just a candidate release, the summary will be compiled for the
General Availability release. For a raw change list, see "Release
Notes" below.
<h2><br>
</h2>
<h2>Release Notes<br>
</h2>
<h2 style="margin-left: 40px;">Bugs</h2>
<ul style="margin-left: 40px;">
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-371">JBMESSAGING-371</a>]
- MessageListener times out on inactivity, after receiving at least one
message</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-417">JBMESSAGING-417</a>]
- JMS Client does not exit</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-505">JBMESSAGING-505</a>]
- RoundRobinPointToPointRouter occasionally throws ArithmeticException:
/ by zero</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-683">JBMESSAGING-683</a>]
- MSSQL configuration appears invalid</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-693">JBMESSAGING-693</a>]
- Starting two node clusters simultaneously may end in failed messaging
server node boot</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-695">JBMESSAGING-695</a>]
- We need to be able to run our functional testsuite with other
databses besides HSQLDB</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-705">JBMESSAGING-705</a>]
- ConnectionFactory service is registered under JMX
"jboss.messaging.destination:" domain, it shoud be
"jboss.messaging.connectionfactory:" or similar.</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-744">JBMESSAGING-744</a>]
- org.jboss.test.messaging.jms.QueueTest fails if executed using
Clustering configuration</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-764">JBMESSAGING-764</a>]
- New failover update map code does not use MessagingMarshallable.</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-777">JBMESSAGING-777</a>]
- Revise creation of Object*Stream on Remoting/our Marshallers</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-783">JBMESSAGING-783</a>]
- Fix HAStressTest</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-790">JBMESSAGING-790</a>]
- "DeadLock" If failover happens on a MessageConsumer::receive</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-805">JBMESSAGING-805</a>]
- Fix JMSProviderResourceRecovery</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-807">JBMESSAGING-807</a>]
- security context switch after sending a message</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-809">JBMESSAGING-809</a>]
- Extra message created if server fails right after send is completed</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-812">JBMESSAGING-812</a>]
- "Cannot find object in dispatcher..." intermittent failures</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-816">JBMESSAGING-816</a>]
- Verify if pre-configured IDs are throwing an exception properly.</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-820">JBMESSAGING-820</a>]
- ConnectionFactoryUpdate ClassCastException when using HTTP</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-824">JBMESSAGING-824</a>]
- queue smoke test fails</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-825">JBMESSAGING-825</a>]
- Transactions corrupted because sybase truncates trailing zeros</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-826">JBMESSAGING-826</a>]
- Using Pre Configure clientIDs will invalidate the usage of a simple
createConnection</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-827">JBMESSAGING-827</a>]
- ACK fails during failover on transacted session</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-831">JBMESSAGING-831</a>]
- Simple (non-clustered) smoke test fails with Remoting exceptions on
client and server-side</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-833">JBMESSAGING-833</a>]
- MDB smoke test fails (in both non-clustered and clustered
configurations)</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-836">JBMESSAGING-836</a>]
- Deadlock on ServerConnectionEndpoint </li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-840">JBMESSAGING-840</a>]
- Shutting down the Messaging service on JBoss 4.0.1sp1 fails</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-841">JBMESSAGING-841</a>]
- MDB smoke test fails in clustered configuration (caused by inability
to create temporary queues in a clustered configuration)</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-842">JBMESSAGING-842</a>]
- The current clustered ConnectionFactory is not apropriate for use
with an MDB container.</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-846">JBMESSAGING-846</a>]
- release-admin.xml installation script does not correctly configures
BindingManager for newly created clustered configurations, in some
situations</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-847">JBMESSAGING-847</a>]
- Some installer-generated JBoss installations (4.0.3, 4.0.3SP1) do not
contain a BindingManager declaration in their jboss-service.xml, so
release-admin.xml doesn' t work properly</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-852">JBMESSAGING-852</a>]
- Unacked message state is not cleaned up after failure in ack</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-853">JBMESSAGING-853</a>]
- Smoke tests fail again after installing bisocket</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-862">JBMESSAGING-862</a>]
-
org.jboss.test.messaging.jms.clustering.FailoverTest.testFailureRightBeforeACK()
fails</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-863">JBMESSAGING-863</a>]
- Bisocket test fails with socket listen security violation on
client-side</li>
</ul>
<h2 style="margin-left: 40px;">Feature Requests</h2>
<ul style="margin-left: 40px;">
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-694">JBMESSAGING-694</a>]
- Integrate, test and document the "bisocket" remoting transport.</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-768">JBMESSAGING-768</a>]
- Add a test that makes sure there are no threads preventing VM to exit
on client side. There is a placeholder already:
org.jboss.test.thirdparty.remoting.DaemonThreadTest</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-830">JBMESSAGING-830</a>]
- Random LoadBalanceFactory for Clustered Connection Factories</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-849">JBMESSAGING-849</a>]
- Port the "mdb failure" smoke test from the 1.0 branch on the trunk</li>
</ul>
<h2 style="margin-left: 40px;">Tasks</h2>
<ul style="margin-left: 40px;">
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-248">JBMESSAGING-248</a>]
- Smart copying for message references</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-330">JBMESSAGING-330</a>]
- Consider using remoting raw invocations</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-567">JBMESSAGING-567</a>]
- Bring persistence manager configs up to date</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-582">JBMESSAGING-582</a>]
- Modify and test release-admin.xml so it is capable of creating
clustered configurations using a different database than mysql</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-593">JBMESSAGING-593</a>]
- Analyse current JGroups stack usage</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-649">JBMESSAGING-649</a>]
- Move ClusterRequest and its subclasses to its own package</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-689">JBMESSAGING-689</a>]
- Add distributed topic smoke test</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-690">JBMESSAGING-690</a>]
- Add distributed queue smoke test</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-691">JBMESSAGING-691</a>]
- Add failover smoke test</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-692">JBMESSAGING-692</a>]
- Modify all smoke tests to run in non-clustered AND clustered version.</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-727">JBMESSAGING-727</a>]
- ServerPeer.destroyQueue/destroTopic just undeploys, does not destroy</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-734">JBMESSAGING-734</a>]
- Create failover tests for failover of XASesions</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-739">JBMESSAGING-739</a>]
- Make sure db schema is correct</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-740">JBMESSAGING-740</a>]
- Make sure wireformat is just right</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-758">JBMESSAGING-758</a>]
- Add a client and server shutdown test</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-759">JBMESSAGING-759</a>]
- Add new "cluster view update on client" test</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-769">JBMESSAGING-769</a>]
- Make ConnectionFactoryUpdateMessage encapsulated in a
MarshalledMessage object</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-770">JBMESSAGING-770</a>]
- Add tests for ConnectionFactory loadBalanceFactory MBean attribute</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-776">JBMESSAGING-776</a>]
- Specify one way thread pool on the server side too</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-822">JBMESSAGING-822</a>]
- Outstanding remoting issues JBREM-690, JBREM-693</li>
  <li>[<a href="http://jira.jboss.com/jira/browse/JBMESSAGING-865">JBMESSAGING-865</a>]
- Modify log4j configuration to mask Remoting's [BisocketServerInvoker]
got listener: null</li>
</ul>
<div style="margin-left: 40px;"><br>
<br>
</div>
<hr style="width: 100%; height: 2px;">
</body>
</html>
