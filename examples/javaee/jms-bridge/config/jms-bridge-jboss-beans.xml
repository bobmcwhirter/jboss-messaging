<?xml version="1.0" encoding="UTF-8"?>

<deployment xmlns="urn:jboss:bean-deployer:2.0">

       <bean name="JMSBridge" class="org.jboss.messaging.jms.bridge.impl.JMSBridgeImpl">
           <!-- JBoss Messaging must be started before the bridge -->
           <depends>MessagingServer</depends>
           <constructor>
               <parameter>
                   <inject bean="SourceCFF"/>
               </parameter>
               <parameter>
                   <inject bean="TargetCFF"/>
               </parameter>
               <parameter>
                   <inject bean="SourceDestinationFactory"/>
               </parameter>
               <parameter>
                   <inject bean="TargetDestinationFactory"/>
               </parameter>
               <parameter><null /></parameter>
               <parameter><null /></parameter>
               <parameter><null /></parameter>
               <parameter><null /></parameter>
               <parameter><null /></parameter>
               <parameter>5000</parameter>
               <parameter>10</parameter>
               <parameter>2</parameter>
               <parameter>1</parameter>
               <parameter>-1</parameter>
               <parameter><null /></parameter>
               <parameter><null /></parameter>
               <parameter>true</parameter>
               <parameter>true</parameter>
           </constructor>
           <property name="transactionManager">
               <inject bean="RealTransactionManager"/>
           </property>
       </bean>

       <bean name="SourceCFF" class="org.jboss.messaging.jms.bridge.impl.JNDIConnectionFactoryFactory">
           <constructor>
               <parameter>
                   <map class="java.util.Hashtable" keyClass="java.lang.String" valueClass="java.lang.String">
                         <entry>
                             <key>java.naming.factory.initial</key>
                             <value>org.jnp.interfaces.NamingContextFactory</value>
                         </entry>
                         <entry>
                             <key>java.naming.provider.url</key>
                             <value>jnp://localhost:1099</value>
                         </entry>
                         <entry>
                             <key>java.naming.factory.url.pkgs</key>
                             <value>org.jboss.naming:org.jnp.interfaces"</value>
                         </entry>
                     </map>
               </parameter>
               <parameter>/ConnectionFactory</parameter>
           </constructor>  
       </bean>

       <bean name="TargetCFF" class="org.jboss.messaging.jms.bridge.impl.JNDIConnectionFactoryFactory">
           <constructor>
               <parameter>
                   <map class="java.util.Hashtable" keyClass="java.lang.String" valueClass="java.lang.String">
                         <entry>
                             <key>java.naming.factory.initial</key>
                             <value>org.jnp.interfaces.NamingContextFactory</value>
                         </entry>
                         <entry>
                             <key>java.naming.provider.url</key>
                             <value>jnp://localhost:1099</value>
                         </entry>
                         <entry>
                             <key>java.naming.factory.url.pkgs</key>
                             <value>org.jboss.naming:org.jnp.interfaces"</value>
                         </entry>
                     </map>
               </parameter>
               <parameter>/ConnectionFactory</parameter>
           </constructor>  
       </bean>

       <bean name="SourceDestinationFactory" class="org.jboss.messaging.jms.bridge.impl.JNDIDestinationFactory">
           <constructor>
               <parameter>
                    <map class="java.util.Hashtable" keyClass="java.lang.String" valueClass="java.lang.String">
                          <entry>
                              <key>java.naming.factory.initial</key>
                              <value>org.jnp.interfaces.NamingContextFactory</value>
                          </entry>
                          <entry>
                              <key>java.naming.provider.url</key>
                              <value>jnp://localhost:1099</value>
                          </entry>
                          <entry>
                              <key>java.naming.factory.url.pkgs</key>
                              <value>org.jboss.naming:org.jnp.interfaces"</value>
                          </entry>
                      </map>
               </parameter>
               <parameter>/queue/source</parameter>
           </constructor>  
       </bean>

       <bean name="TargetDestinationFactory" class="org.jboss.messaging.jms.bridge.impl.JNDIDestinationFactory">
           <constructor>
               <parameter>
                   <map class="java.util.Hashtable" keyClass="java.lang.String" valueClass="java.lang.String">
                         <entry>
                             <key>java.naming.factory.initial</key>
                             <value>org.jnp.interfaces.NamingContextFactory</value>
                         </entry>
                         <entry>
                             <key>java.naming.provider.url</key>
                             <value>jnp://localhost:1099</value>
                         </entry>
                         <entry>
                             <key>java.naming.factory.url.pkgs</key>
                             <value>org.jboss.naming:org.jnp.interfaces"</value>
                         </entry>
                     </map>
               </parameter>
               <parameter>/queue/target</parameter>
           </constructor>  
       </bean>

    <!--
       <bean name="JNDIProperties" class="java.util.Hashtable">
           <property key="map">
            <map class="java.util.Properties" keyClass="java.lang.String" valueClass="java.lang.String">
               <entry>
                   <key>java.naming.factory.initial</key>
                   <value>org.jnp.interfaces.NamingContextFactory</value>
               </entry>
               <entry>
                   <key>java.naming.provider.url</key>
                   <value>jnp://localhost:1099</value>
               </entry>
               <entry>
                   <key>java.naming.factory.url.pkgs</key>
                   <value>org.jboss.naming:org.jnp.interfaces"</value>
               </entry>
           </map>
       </property>
       </bean>
    --> 
       

</deployment>