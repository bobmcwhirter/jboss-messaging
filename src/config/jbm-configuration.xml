<deployment>
   <configuration>

      <clustered>false</clustered>

      <!-- Maximum number of threads to use for scheduled deliveries -->
      <scheduled-max-pool-size>30</scheduled-max-pool-size>

      <require-destinations>true</require-destinations>
      
      <security-enabled>true</security-enabled>
      
      <security-invalidation-interval>10000</security-invalidation-interval>
      
      <management-enabled>true</management-enabled>

      <!-- Remoting configuration -->

      <!-- one of: TCP, INVM                                                                     -->
      <!-- INVM: the server is accessible only by clients in the same VM (no sockets are opened) -->
      <remoting-transport>TCP</remoting-transport>

      <remoting-bind-address>5400</remoting-bind-address>

      <remoting-host>localhost</remoting-host>
      
      <remoting-port>5400</remoting-port>

      <!--  call timeout in milliseconds -->
      <remoting-call-timeout>5000</remoting-call-timeout>

      <!-- true to enable invm communication when the client and the server are in the same JVM.     -->
      <remoting-enable-invm-optimisation>true</remoting-enable-invm-optimisation>

      <!-- Enable/Disable Nagle's Algorithm (resp. true/false)                           -->
      <!-- This setting is taken into account only when remoting-transport is set to TCP -->
      <remoting-tcp-nodelay>true</remoting-tcp-nodelay>

      <!-- Set the TCP Receive Buffer size (SO_RCVBUF).                                    -->
      <!-- Set it to -1 if you want to use the value hinted by the Operating System      -->
      <!-- This setting is taken into account only when remoting-transport is set to TCP -->
      <remoting-tcp-receive-buffer-size>32768</remoting-tcp-receive-buffer-size>

      <!-- Set the TCP Send Buffer size (SO_SNDBUF).                                     -->
      <!-- Set it to -1 if you want to use the value hinted by the Operating System      -->
      <!-- This setting is taken into account only when remoting-transport is set to TCP -->
      <remoting-tcp-send-buffer-size>32768</remoting-tcp-send-buffer-size>

      <!-- The interval to send a ping message to send to the client/server to make sure it is still alive.-->
      <!-- Set to 0 if you want to disable this functionality-->
      <remoting-ping-interval>10000</remoting-ping-interval>

      <!--How long to wait for a returning pong after sending a ping message to a client/server.-->
      <!-- If no pong is received after this time resources are cleaned up-->
      <remoting-ping-timeout>5000</remoting-ping-timeout>
     
      <!--  if ssl is enabled, all remoting-ssl-* properties must be set -->
      <remoting-enable-ssl>false</remoting-enable-ssl>

      <remoting-ssl-keystore-path>messaging.keystore</remoting-ssl-keystore-path>

      <remoting-ssl-keystore-password>secureexample</remoting-ssl-keystore-password>

      <remoting-ssl-truststore-path>messaging.truststore</remoting-ssl-truststore-path>

      <remoting-ssl-truststore-password>secureexample</remoting-ssl-truststore-password>
      
      <!-- Example interceptors 
      <remoting-interceptors>
         <class-name>org.jboss.messaging.tests.unit.core.config.impl.TestInterceptor1</class-name>
         <class-name>org.jboss.messaging.tests.unit.core.config.impl.TestInterceptor2</class-name>
      </remoting-interceptors>
      -->
      
      <remoting-acceptor-factories>         
	      <class-name>org.jboss.messaging.core.remoting.impl.mina.MinaAcceptorFactory</class-name>         
      </remoting-acceptor-factories>

      <!-- Storage configuration -->

      <bindings-directory>data/bindings</bindings-directory>

      <create-bindings-dir>true</create-bindings-dir>

      <journal-directory>data/journal</journal-directory>

      <create-journal-dir>true</create-journal-dir>

      <journal-type>ASYNCIO</journal-type>

      <!-- Does the journal sync to disk on each transaction commit, prepare or rollback? -->
      <journal-sync-transactional>true</journal-sync-transactional>
      
      <!-- Does the journal sync to disk for every non transactional persistent operation? -->
      <journal-sync-non-transactional>false</journal-sync-non-transactional>

      <!-- 10 MB journal file size -->
      <journal-file-size>10485760</journal-file-size>

      <journal-min-files>15</journal-min-files>

      <!-- Maximum simultaneous asynchronous writes accepted by the native layer.
      (parameter ignored on NIO)
       You can verify the max AIO on the OS level at /proc/sys/fs/aio_max_nr. (aio-nr will give you the current max-aio being used)
      -->
      <journal-max-aio>10000</journal-max-aio>

   </configuration>

</deployment>
