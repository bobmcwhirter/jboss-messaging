<?xml version="1.0"?>
<!-- The JBoss Messaging 1.0 variation of the j2eetck/bin/xml/j2ee_vi.xml script -->
<project name="CTS 1.4 for use with a vendor's J2EE implementation" basedir="." default="usage">

   <!-- The targets in this file are intended to be used by licensees for configuring their
        J2EE app servers for testing with CTS.
   -->
   <target name="usage">
        <echo message="The following ant targets are available to configure a J2EE server for CTS:"/>
        <echo message="ant -f j2ee_vi.xml task"/>
        <echo message=""/>
        <echo message="The tasks are:"/>
        <echo message=""/>
        <echo message="clean.vi" />
        <echo message="config.vi" />
        <echo message="enable.jacc" />
        <echo message="disable.jacc" />
   </target>

   <!--  Target to configure the J2EE app server under test -->
   <target name="config.vi" depends="copy.db.jars">
       <ant antfile="jboss-cts.xml" dir="${ts.home}/bin/xml" target="setup-cts"/>
       <ant antfile="jboss-cts.xml" dir="${ts.home}/bin/xml" target="restart.server"/>
   </target>

   <target name="vi.perms" depends="copy.db.jars">
       <echo message="do nothing"/>
   </target>

   <!--  Target to remove the configuration for the J2EE app server under test -->
   <target name="clean.vi">
       <ant antfile="jboss-cts.xml" dir="${ts.home}/bin/xml" target="clean-cts"/>
       <ant antfile="jboss-cts.xml" dir="${ts.home}/bin/xml" target="restart.server"/>
   </target>

   <!--  Target to enable jacc for the J2EE app server under test -->
   <target name="enable.jacc" >
       <ant antfile="jboss-cts.xml" dir="${ts.home}/bin/xml" target="enable.jacc"/>
   </target>

   <!--  Target to disable jacc for the J2EE app server under test -->
   <target name="disable.jacc" >
       <ant antfile="jboss-cts.xml" dir="${ts.home}/bin/xml" target="disable.jacc"/>
   </target>

   <!--  Target to enable tx interop for the J2EE app server under test -->
   <target name="enable.tx.interop" >
       <ant antfile="jboss-cts.xml" dir="${ts.home}/bin/xml" target="enable.tx.interop"/>
   </target>

   <!--  Target to disable tx interop for the J2EE app server under test -->
   <target name="disable.tx.interop" >
       <ant antfile="jboss-cts.xml" dir="${ts.home}/bin/xml" target="disable.tx.interop"/>
   </target>

    <target name="copy.db.jars">
        <copy todir="${j2ee.home}/server/cts-messaging/lib" overwrite="yes" >
             <fileset dir="${jdbc.lib.class.path}" />
        </copy>
    </target>
</project>
