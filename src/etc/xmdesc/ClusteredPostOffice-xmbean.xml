<?xml version="1.0" encoding="UTF-8"?>
   <!DOCTYPE mbean PUBLIC
      "-//JBoss//DTD JBOSS XMBEAN 1.2//EN"
      "http://www.jboss.org/j2ee/dtd/jboss_xmbean_1_2.dtd">

<mbean>
   <description>An clustered post-office</description>
   <class>org.jboss.messaging.core.plugin.ClusteredPostOfficeService</class>

   <!-- Managed constructors -->

   <!-- Managed attributes -->

   <attribute access="read-only" getMethod="getInstance">
      <description>The instance to plug into the server peer</description>
      <name>Instance</name>
      <type>org.jboss.messaging.core.plugin.contract.MessagingComponent</type>
   </attribute>

   <attribute access="read-only" getMethod="getNodeIDView">
      <description>The set containing cluster group members' node IDs</description>
      <name>NodeIDView</name>
      <type>java.util.Set</type>
   </attribute>

   <attribute access="read-write" getMethod="getDataSource" setMethod="setDataSource">
      <description>The JNDI name of the DataSource used by this ChannelMapper instance</description>
      <name>DataSource</name>
      <type>java.lang.String</type>
   </attribute>

   <attribute access="read-write" getMethod="getTransactionManager" setMethod="setTransactionManager">
      <description>The ObjectName of the TransactionManager used by this ChannelMaper instance</description>
      <name>TransactionManager</name>
      <type>javax.management.ObjectName</type>
   </attribute>
   
   <attribute access="read-write" getMethod="getSqlProperties" setMethod="setSqlProperties">
      <description>DML and DDL overrides</description>
      <name>SqlProperties</name>
      <type>java.lang.String</type>
   </attribute>

   <attribute access="read-write" getMethod="isCreateTablesOnStartup" setMethod="setCreateTablesOnStartup">
      <description>Should database tables be created on startup?</description>
      <name>CreateTablesOnStartup</name>
      <type>boolean</type>
   </attribute>
   
   <attribute access="read-write" getMethod="getPostOfficeName" setMethod="setPostOfficeName">
      <description>The name of the post office</description>
      <name>PostOfficeName</name>
      <type>java.lang.String</type>
   </attribute> 
   
   <attribute access="read-write" getMethod="getServerPeer" setMethod="setServerPeer">
      <description>The ObjectName of the server peer this destination was deployed on</description>
      <name>ServerPeer</name>
      <type>javax.management.ObjectName</type>
   </attribute> 
   
   <attribute access="read-write" getMethod="getGroupName" setMethod="setGroupName">
      <description>The name of the JGroups group to use</description>
      <name>GroupName</name>
      <type>java.lang.String</type>
   </attribute>   
   
   <attribute access="read-write" getMethod="getMessagePullPolicy" setMethod="setMessagePullPolicy">
      <description>The fully qualified class name of the class to use to implement the message pull policy for rebalancing</description>
      <name>MessagePullPolicy</name>
      <type>java.lang.String</type>
   </attribute> 
   
   <attribute access="read-write" getMethod="getClusterRouterFactory" setMethod="setClusterRouterFactory">
      <description>The fully qualified class name of the class to use to implement the factory that generates cluster routers</description>
      <name>ClusterRouterFactory</name>
      <type>java.lang.String</type>
   </attribute>   
   
   <attribute access="read-write" getMethod="getStateTimeout" setMethod="setStateTimeout">
      <description>Timeout for getState()</description>
      <name>StateTimeout</name>
      <type>long</type>
   </attribute>
   
   <attribute access="read-write" getMethod="getCastTimeout" setMethod="setCastTimeout">
      <description>Timeout for getState()</description>
      <name>CastTimeout</name>
      <type>long</type>
   </attribute>   
   
   <attribute access="read-write" getMethod="getStatsSendPeriod" setMethod="setStatsSendPeriod">
      <description>The period in milliseconds between a post office casting it's statistics across the cluster</description>
      <name>StatsSendPeriod</name>
      <type>long</type>
   </attribute>    
   
   <attribute access="read-write" getMethod="getSyncChannelConfig" setMethod="setSyncChannelConfig">
      <description>The JGroups stack configuration for the synchronous channel</description>
      <name>SyncChannelConfig</name>
      <type>org.w3c.dom.Element</type>
   </attribute>
   
   <attribute access="read-write" getMethod="getAsyncChannelConfig" setMethod="setAsyncChannelConfig">
      <description>The JGroups stack configuration for the asynchronous channel</description>
      <name>AsyncChannelConfig</name>
      <type>org.w3c.dom.Element</type>
   </attribute>   
   
   <attribute access="read-write" getMethod="getServerPeer" setMethod="setServerPeer">
      <description>The ObjectName of the server peer this destination was deployed on</description>
      <name>ServerPeer</name>
      <type>javax.management.ObjectName</type>
   </attribute>   

   <!-- Managed operations -->

    <operation>
       <description>JBoss Service lifecycle operation</description>
       <name>create</name>
    </operation>

    <operation>
       <description>Prepares a failover from a given node</description>
       <name>failOver</name>
        <parameter>
          <description>The Failed ID </description>
          <name>failedId</name>
          <type>int</type>
        </parameter>

    </operation>

    <operation>
       <description>List Defined Bindings</description>
       <name>listBindings</name>
       <return-type>java.lang.String</return-type>
    </operation>

   <operation>
      <description>JBoss Service lifecycle operation</description>
      <name>start</name>
   </operation>

   <operation>
      <description>JBoss Service lifecycle operation</description>
      <name>stop</name>
   </operation>

   <operation>
      <description></description>
      <name>stop</name>
      <parameter>
        <description>Should we send a notification about leaving cluster</description>
        <name>sendNotification</name>
        <type>boolean</type>
      </parameter>
   </operation>

   <operation>
      <description>JBoss Service lifecycle operation</description>
      <name>destroy</name>
   </operation>
     
</mbean>