<!DOCTYPE ejb-jar PUBLIC
'-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN'
'http://java.sun.com/dtd/ejb-jar_2_0.dtd'>

<ejb-jar>
   
  <enterprise-beans>
    <session>
      <ejb-name>JMSTest</ejb-name>
      <home>org.jboss.test.messaging.jms.managed.JMSTestHome</home>
      <remote>org.jboss.test.messaging.jms.managed.JMSTest</remote>
      <ejb-class>org.jboss.test.messaging.jms.managed.JMSTestBean</ejb-class>
      <session-type>Stateless</session-type>
      <transaction-type>Container</transaction-type>
      
      <resource-ref>
         <res-ref-name>jms/MyConnectionFactory</res-ref-name>
         <res-type>javax.jms.ConnectionFactory</res-type>
         <res-auth>Container</res-auth>
      </resource-ref>
       
      <resource-ref>
         <res-ref-name>jms/MyQueue</res-ref-name>
         <res-type>javax.jms.Queue</res-type>
         <res-auth>Container</res-auth>
      </resource-ref> 
       
    </session>
     
    <message-driven>
       <ejb-name>MessageBean</ejb-name>
       <ejb-class>org.jboss.test.messaging.jms.managed.MessageBean</ejb-class>
       <message-selector></message-selector>
       <transaction-type>Container</transaction-type>
       <acknowledge-mode>AUTO_ACKNOWLEDGE</acknowledge-mode>
       <message-driven-destination>
          <destination-type>javax.jms.Queue</destination-type>
       </message-driven-destination>
    </message-driven>
     
  </enterprise-beans>
   
  <assembly-descriptor>
     
     <container-transaction>
      <method>
        <ejb-name>MessageBean</ejb-name>
        <method-name>*</method-name>
      </method>
      <trans-attribute>Required</trans-attribute>
    </container-transaction>

    <container-transaction>
      <method>
        <ejb-name>JMSTest</ejb-name>
        <method-name>*</method-name>
      </method>
     
      <trans-attribute>Required</trans-attribute>
    </container-transaction>

  </assembly-descriptor>
</ejb-jar>
